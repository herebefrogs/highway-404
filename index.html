<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=monetization content=$ilp.uphold.com/2kD7NjJBDjBb><style>body{margin:0;text-align:center;background:#000}body,canvas{touch-action:none;user-select:none}</style><canvas id=c></canvas><script>(()=>{const e=/iPhone|iPad|Android/i.test(navigator.userAgent),t=new(window.AudioContext||webkitAudioContext),a=(...e)=>{let a=t.createBufferSource(),n=t.createBuffer(e.length,e[0].length,44100);return e.map((e,t)=>n.getChannelData(t).set(e)),a.buffer=n,a.connect(t.destination),a.start(),a},n=(e=1,t=.05,a=220,n=0,i=0,m=.1,l=0,s=1,o=0,y=0,h=0,g=0,r=0,p=0,d=0,c=0,w=0,u=1,f=0,v=0)=>{let A,x,b=2*Math.PI,k=o*=500*b/44100**2,M=(d>0?1:-1)*b/4,R=a*=(1+2*t*Math.random()-t)*b/44100,E=[],T=0,I=0,U=0,P=1,C=0,X=0,z=0;for(y*=500*b/44100**3,d*=b/44100,h*=b/44100,g*=44100,r=44100*r|0,x=(n=99+44100*n)+(f*=44100)+(i*=44100)+(m*=44100)+(w*=44100)|0;x>U;E[U++]=z)++X%(100*c|0)||(z=l?l>1?l>2?l>3?Math.sin((T%b)**3):Math.max(Math.min(Math.tan(T),1),-1):1-(2*T/b%2+2)%2:1-4*Math.abs(Math.round(T/b)-T/b):Math.sin(T),z=(r?1-v+v*Math.sin(2*Math.PI*U/r):1)*(z>0?1:-1)*Math.abs(z)**s*e*.1*(n>U?U/n:n+f>U?1-(U-n)/f*(1-u):n+f+i>U?u:x-w>U?(x-U-w)/m*u:0),z=w?z/2+(w>U?0:(x-w>U?1:(x-U)/w)*E[U-w|0]/2):z),A=(a+=o+=y)*Math.sin(I*d-M),T+=A-A*p*(1-1e9*(Math.sin(U)+1)%2),I+=A-A*p*(1-1e9*(Math.sin(U)**2+1)%2),P&&++P>g&&(a+=h,R+=h,P=0),!r||++C%r||(a=R,o=k,P=P||1);return E};
//! ZzFXM (v2.0.3) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM
zzfxM=(e,t,a,i=125)=>{let m,l,s,o,y,h,g,r,p,d,c,w,u,f,v,A=0,x=[],b=[],k=[],M=0,R=0,E=1,T={},I=44100/i*60>>2;for(;E;M++)x=[E=r=c=u=0],a.map((i,c)=>{for(g=t[i][M]||[0,0,0],E|=!!t[i][M],v=u+(t[i][0].length-2-!r)*I,f=c==a.length-1,l=2,o=u;g.length+f>l;r=++l){for(y=g[l],p=l==g.length+f-1&&f||d!=(g[0]||0)|y|0,s=0;I>s&&r;s++>I-99&&p?w+=(1>w)/99:0)h=(1-w)*x[A++]/2||0,b[o]=(b[o]||0)-h*R+h,k[o]=(k[o++]||0)+h*R+h;y&&(w=y%1,R=g[1]||0,(y|=0)&&(x=T[[d=g[A=0]||0,y]]=T[[d,y]]||(m=[...e[d]],m[2]*=2**((y-12)/12),y>0?n(...m):[])))}u=v});return[b,k]};const i=e=>((...e)=>a(n(...e)))(...e);function m(e,t,a){return 0>a?e:a>1?t:e*(1-a)+t*a}function l(e,t){if(0>=t)return e[0];if(t>=1)return e[e.length-1];const a=Math.floor((e.length-1)*t);return m(e[a],e[Math.ceil((e.length-1)*t)],t*(e.length-1)-a)}const s={},o=(e,t,a="2020.highway-404.")=>localStorage.setItem(a+e,t),y=(e,t="2020.highway-404.")=>localStorage.getItem(t+e);let h,g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQQAAAAFCAMAAACU/WIpAAAAAXNSR0IArs4c6QAAAAZQTFRFAAAA////pdmf3QAAAAJ0Uk5TAP9bkSK1AAAA5UlEQVQ4jXWUCw6AMAhD4f6XNtGVvm5T4wL7UFqY1XpqjLE8U2PUcl9z3FKASosBboOAJ9g62ysm0lr7VhbzyHvXMPvFQMZ1DMA9ePX1wEA0tpjuD02fxEJ1wEhF5xMYwwsBwB8ihAbSUilA6PI4eCM0FNKx6A+hjdNf8u0EewIQmCK0kSmRwmtX9CeJyDdfMsQc63b0djC6dQIsNjzZdK76xqCVwNH191v7x7qa0w4exacYWzPtnWCx2AmbkrzD+AFoKaS06ywNGVuOUmlfq7a860Qo/mNw9lZ1yd1Ur5JwFjbVfACz9wIlA1aBbAAAAABJRU5ErkJggg==";function r(e,t,a,n=0,i=1){const m=5*i,l=e.length*(i+m),s=2===n?l:1===n?l/2:0;[...e].forEach((e,n)=>{h.drawImage(g,5*"abcdefghijklmnopqrstuvwxyz0123456789.:!-%,/#[]UDLR?'".indexOf(e),0,5,5,t+n*(m+1)-s,a,m,m)})}const p=[38,38,40,40,37,39,37,39,66,65];let d,w,u,f,v,A,x,b,k=0,M=0,R=.1,E=[{time:0,lane:7,type:"418"},{time:2.54,lane:1,type:"103",msg:"road not found"},{time:2.54,lane:2,type:"103",msg:"road not found"},{time:2.54,lane:3,type:"103",msg:"road not found"},{time:2.54,lane:4,type:"103",msg:"road not found"},{time:2.54,lane:5,type:"103",msg:"road not found"},{time:2.54,lane:6,type:"103",msg:"road not found"},{time:2.54,lane:7,type:"103",msg:"road not found"},{time:4.5,lane:1,type:"404"},{time:4.5,lane:2,type:"404"},{time:4.5,lane:3,type:"404"},{time:4.5,lane:4,type:"404"},{time:4.5,lane:5,type:"404"},{time:4.5,lane:6,type:"404"},{time:4.5,lane:7,type:"404"},{time:10,lane:1,type:"404"},{time:10,lane:2,type:"404"},{time:10,lane:3,type:"404"},{time:10,lane:4,type:"404"},{time:10,lane:5,type:"404"},{time:10,lane:6,type:"404"},{time:10,lane:7,type:"404"},{time:15,lane:1,type:"200"},{time:15,lane:2,type:"200"},{time:15,lane:3,type:"200"},{time:15,lane:4,type:"200"},{time:15,lane:5,type:"200"},{time:15,lane:6,type:"200"},{time:15,lane:7,type:"200"},{time:18,lane:2,type:"103",msg:"road unavailable"},{time:18,lane:1,type:"103",msg:"road unavailable"},{time:18,lane:3,type:"103",msg:"road unavailable"},{time:18,lane:4,type:"103",msg:"road unavailable"},{time:18,lane:5,type:"103",msg:"road unavailable"},{time:18,lane:6,type:"103",msg:"road unavailable"},{time:18,lane:7,type:"103",msg:"road unavailable"},{time:20,lane:1,type:"503",length:30},{time:20,lane:7,type:"503",length:30},{time:21,lane:2,type:"501",length:20},{time:21,lane:6,type:"501",length:20},{time:24,lane:4,type:"503",length:50},{time:25,lane:3,type:"501",length:10},{time:25,lane:5,type:"501",length:10},{time:27,lane:1,type:"503",length:20},{time:27,lane:7,type:"503",length:20},{time:33,lane:2,type:"103",msg:"lane change"},{time:33,lane:1,type:"103",msg:"lane change"},{time:33,lane:3,type:"103",msg:"lane change"},{time:33,lane:4,type:"103",msg:"lane change"},{time:33,lane:5,type:"103",msg:"lane change"},{time:33,lane:6,type:"103",msg:"lane change"},{time:33,lane:7,type:"103",msg:"lane change"},{time:35,type:"501",lane:4,length:18},{time:35.5,type:"503",lane:3,length:20},{time:35.5,type:"503",lane:5,length:20},{time:36,type:"501",lane:2,length:20},{time:36,type:"501",lane:6,length:20},{time:37,type:"302",lane:1,redirect:3},{time:37,type:"301",lane:7,redirect:-3},{time:37.2,type:"503",lane:1,length:20},{time:37.2,type:"503",lane:7,length:20},{time:40,type:"501",lane:1,length:8},{time:40,type:"501",lane:7,length:8},{time:40.5,type:"503",lane:2,length:20},{time:40.5,type:"503",lane:6,length:20},{time:41,type:"301",lane:3,redirect:-2},{time:41,type:"302",lane:5,redirect:2},{time:41.2,type:"501",lane:3,length:20},{time:41.2,type:"501",lane:5,length:20},{time:42,type:"302",lane:4,redirect:3},{time:42.2,type:"503",lane:4,length:20},{time:48,lane:1,type:"103",msg:"collect teapots"},{time:48,lane:2,type:"103",msg:"collect teapots"},{time:48,lane:3,type:"103",msg:"collect teapots"},{time:48,lane:4,type:"103",msg:"collect teapots"},{time:48,lane:5,type:"103",msg:"collect teapots"},{time:48,lane:6,type:"103",msg:"collect teapots"},{time:48,lane:7,type:"103",msg:"collect teapots"},{time:50,lane:1,type:"418"},{time:50,lane:4,type:"418"},{time:50,lane:7,type:"418"},{time:52,lane:2,type:"418"},{time:52,lane:6,type:"418"},{time:54,lane:1,type:"418"},{time:54,lane:4,type:"418"},{time:54,lane:7,type:"418"},{time:54.5,lane:1,type:"501",length:10},{time:54.5,lane:4,type:"503",length:26},{time:54.5,lane:7,type:"501",length:10},{time:57,lane:2,type:"404"},{time:57,lane:6,type:"404"},{time:57.1,lane:1,type:"404"},{time:57.1,lane:3,type:"404"},{time:57.1,lane:5,type:"404"},{time:57.1,lane:7,type:"404"},{time:57.3,lane:2,type:"418"},{time:57.3,lane:6,type:"418"},{time:60,lane:1,type:"200"},{time:60,lane:2,type:"200"},{time:60,lane:3,type:"200"},{time:60,lane:5,type:"200"},{time:60,lane:6,type:"200"},{time:60,lane:7,type:"200"},{time:62,lane:1,type:"503",length:20},{time:62,lane:3,type:"501",length:20},{time:62,lane:5,type:"501",length:20},{time:62,lane:7,type:"503",length:20},{time:64,lane:4,type:"418"},{time:68,lane:1,type:"103",msg:"drive safely"},{time:68,lane:2,type:"103",msg:"drive safely"},{time:68,lane:3,type:"103",msg:"drive safely"},{time:68,lane:4,type:"103",msg:"drive safely"},{time:68,lane:5,type:"103",msg:"drive safely"},{time:68,lane:6,type:"103",msg:"drive safely"},{time:68,lane:7,type:"103",msg:"drive safely"},{time:70,lane:1,type:"503",length:36},{time:70,lane:7,type:"503",length:36},{time:70.5,lane:2,type:"501",length:32},{time:70.5,lane:6,type:"501",length:32},{time:71.5,lane:3,type:"404"},{time:71.5,lane:4,type:"404"},{time:71.5,lane:5,type:"404"},{time:75,lane:3,type:"200"},{time:75,lane:5,type:"200"},{time:75.2,lane:3,type:"501",length:34},{time:75.2,lane:5,type:"503",length:34},{time:75.4,lane:4,type:"418"},{time:75.6,lane:1,type:"404"},{time:75.6,lane:2,type:"404"},{time:75.6,lane:6,type:"404"},{time:75.6,lane:7,type:"404"},{time:77.6,lane:1,type:"200"},{time:77.6,lane:2,type:"200"},{time:77.6,lane:6,type:"200"},{time:77.6,lane:7,type:"200"},{time:78,lane:4,type:"302",redirect:3},{time:78.2,lane:4,type:"200"},{time:78.4,lane:4,type:"501",length:12},{time:83,lane:1,type:"103",msg:"drive sober"},{time:83,lane:2,type:"103",msg:"drive sober"},{time:83,lane:3,type:"103",msg:"drive sober"},{time:83,lane:4,type:"103",msg:"drive sober"},{time:83,lane:5,type:"103",msg:"drive sober"},{time:83,lane:6,type:"103",msg:"drive sober"},{time:83,lane:7,type:"103",msg:"drive sober"},{time:85,lane:1,type:"503",length:16},{time:85,lane:3,type:"503",length:16},{time:85,lane:5,type:"503",length:16},{time:85,lane:7,type:"503",length:48},{time:86.8,lane:2,type:"302",redirect:3},{time:86.8,lane:4,type:"301",redirect:-3},{time:86.8,lane:6,type:"301",redirect:-3},{time:87,lane:2,type:"501",length:16},{time:87,lane:4,type:"501",length:16},{time:87,lane:6,type:"501",length:16},{time:88.8,lane:1,type:"302",redirect:3},{time:88.8,lane:3,type:"302",redirect:3},{time:88.8,lane:5,type:"301",redirect:-3},{time:89,lane:1,type:"503",length:48},{time:89,lane:3,type:"503",length:16},{time:89,lane:5,type:"503",length:16},{time:90.8,lane:2,type:"302",redirect:3},{time:90.8,lane:4,type:"302",redirect:3},{time:90.8,lane:6,type:"301",redirect:-3},{time:91,lane:2,type:"501",length:16},{time:91,lane:4,type:"501",length:16},{time:91,lane:6,type:"501",length:16},{time:92.8,lane:3,type:"302",redirect:3},{time:92.8,lane:5,type:"301",redirect:-3},{time:92.8,lane:7,type:"301",redirect:-3},{time:93,lane:3,type:"503",length:16},{time:93,lane:5,type:"503",length:16},{time:93,lane:7,type:"503",length:16},{time:94.9,lane:4,type:"418"},{time:100,lane:1,type:"103",msg:"you found my secret!"},{time:100,lane:2,type:"103",msg:"you found my secret!"},{time:100,lane:3,type:"103",msg:"you found my secret!"},{time:100,lane:4,type:"103",msg:"you found my secret!"},{time:100,lane:5,type:"103",msg:"you found my secret!"},{time:100,lane:6,type:"103",msg:"you found my secret!"},{time:100,lane:7,type:"103",msg:"you found my secret!"},{time:102,lane:1,type:"103",msg:"i ran out of time"},{time:102,lane:2,type:"103",msg:"i ran out of time"},{time:102,lane:3,type:"103",msg:"i ran out of time"},{time:102,lane:4,type:"103",msg:"i ran out of time"},{time:102,lane:5,type:"103",msg:"i ran out of time"},{time:102,lane:6,type:"103",msg:"i ran out of time"},{time:102,lane:7,type:"103",msg:"i ran out of time"},{time:104,lane:1,type:"103",msg:"to add more levels."},{time:104,lane:2,type:"103",msg:"to add more levels."},{time:104,lane:3,type:"103",msg:"to add more levels."},{time:104,lane:4,type:"103",msg:"to add more levels."},{time:104,lane:5,type:"103",msg:"to add more levels."},{time:104,lane:6,type:"103",msg:"to add more levels."},{time:104,lane:7,type:"103",msg:"to add more levels."},{time:108,lane:1,type:"103",msg:"thanks for playing,"},{time:108,lane:2,type:"103",msg:"thanks for playing,"},{time:108,lane:3,type:"103",msg:"thanks for playing,"},{time:108,lane:4,type:"103",msg:"thanks for playing,"},{time:108,lane:5,type:"103",msg:"thanks for playing,"},{time:108,lane:6,type:"103",msg:"thanks for playing,"},{time:108,lane:7,type:"103",msg:"thanks for playing,"},{time:110,lane:1,type:"103",msg:"and making it"},{time:110,lane:2,type:"103",msg:"and making it"},{time:110,lane:3,type:"103",msg:"and making it"},{time:110,lane:4,type:"103",msg:"and making it"},{time:110,lane:5,type:"103",msg:"and making it"},{time:110,lane:6,type:"103",msg:"and making it"},{time:110,lane:7,type:"103",msg:"and making it"},{time:112,lane:1,type:"103",msg:"that far alive."},{time:112,lane:2,type:"103",msg:"that far alive."},{time:112,lane:3,type:"103",msg:"that far alive."},{time:112,lane:4,type:"103",msg:"that far alive."},{time:112,lane:5,type:"103",msg:"that far alive."},{time:112,lane:6,type:"103",msg:"that far alive."},{time:112,lane:7,type:"103",msg:"that far alive."},{time:116,lane:1,type:"103",msg:"safe road ahead"},{time:116,lane:2,type:"103",msg:"safe road ahead"},{time:116,lane:3,type:"103",msg:"safe road ahead"},{time:116,lane:4,type:"103",msg:"safe road ahead"},{time:116,lane:5,type:"103",msg:"safe road ahead"},{time:116,lane:6,type:"103",msg:"safe road ahead"},{time:116,lane:7,type:"103",msg:"safe road ahead"},{time:118,lane:1,type:"103",msg:"till the end"},{time:118,lane:2,type:"103",msg:"till the end"},{time:118,lane:3,type:"103",msg:"till the end"},{time:118,lane:4,type:"103",msg:"till the end"},{time:118,lane:5,type:"103",msg:"till the end"},{time:118,lane:6,type:"103",msg:"till the end"},{time:118,lane:7,type:"103",msg:"till the end"},{time:120,lane:1,type:"103",msg:"of the line."},{time:120,lane:2,type:"103",msg:"of the line."},{time:120,lane:3,type:"103",msg:"of the line."},{time:120,lane:4,type:"103",msg:"of the line."},{time:120,lane:5,type:"103",msg:"of the line."},{time:120,lane:6,type:"103",msg:"of the line."},{time:120,lane:7,type:"103",msg:"of the line."},{time:150,lane:1,type:"103",msg:"enjoying the ride?"},{time:150,lane:2,type:"103",msg:"enjoying the ride?"},{time:150,lane:3,type:"103",msg:"enjoying the ride?"},{time:150,lane:4,type:"103",msg:"enjoying the ride?"},{time:150,lane:5,type:"103",msg:"enjoying the ride?"},{time:150,lane:6,type:"103",msg:"enjoying the ride?"},{time:150,lane:7,type:"103",msg:"enjoying the ride?"},{time:200,lane:1,type:"103",msg:"still driving, eh?"},{time:200,lane:2,type:"103",msg:"still driving, eh?"},{time:200,lane:3,type:"103",msg:"still driving, eh?"},{time:200,lane:4,type:"103",msg:"still driving, eh?"},{time:200,lane:5,type:"103",msg:"still driving, eh?"},{time:200,lane:6,type:"103",msg:"still driving, eh?"},{time:200,lane:7,type:"103",msg:"still driving, eh?"},{time:250,lane:1,type:"103",msg:"shouldn't you be"},{time:250,lane:2,type:"103",msg:"shouldn't you be"},{time:250,lane:3,type:"103",msg:"shouldn't you be"},{time:250,lane:4,type:"103",msg:"shouldn't you be"},{time:250,lane:5,type:"103",msg:"shouldn't you be"},{time:250,lane:6,type:"103",msg:"shouldn't you be"},{time:250,lane:7,type:"103",msg:"shouldn't you be"},{time:252,lane:1,type:"103",msg:"working,"},{time:252,lane:2,type:"103",msg:"working,"},{time:252,lane:3,type:"103",msg:"working,"},{time:252,lane:4,type:"103",msg:"working,"},{time:252,lane:5,type:"103",msg:"working,"},{time:252,lane:6,type:"103",msg:"working,"},{time:252,lane:7,type:"103",msg:"working,"},{time:254,lane:1,type:"103",msg:"or whatever?"},{time:254,lane:2,type:"103",msg:"or whatever?"},{time:254,lane:3,type:"103",msg:"or whatever?"},{time:254,lane:4,type:"103",msg:"or whatever?"},{time:254,lane:5,type:"103",msg:"or whatever?"},{time:254,lane:6,type:"103",msg:"or whatever?"},{time:254,lane:7,type:"103",msg:"or whatever?"},{time:300,lane:1,type:"103",msg:"you must really"},{time:300,lane:2,type:"103",msg:"you must really"},{time:300,lane:3,type:"103",msg:"you must really"},{time:300,lane:4,type:"103",msg:"you must really"},{time:300,lane:5,type:"103",msg:"you must really"},{time:300,lane:6,type:"103",msg:"you must really"},{time:300,lane:7,type:"103",msg:"you must really"},{time:302,lane:1,type:"103",msg:"want to see"},{time:302,lane:2,type:"103",msg:"want to see"},{time:302,lane:3,type:"103",msg:"want to see"},{time:302,lane:4,type:"103",msg:"want to see"},{time:302,lane:5,type:"103",msg:"want to see"},{time:302,lane:6,type:"103",msg:"want to see"},{time:302,lane:7,type:"103",msg:"want to see"},{time:304,lane:1,type:"103",msg:"the end."},{time:304,lane:2,type:"103",msg:"the end."},{time:304,lane:3,type:"103",msg:"the end."},{time:304,lane:4,type:"103",msg:"the end."},{time:304,lane:5,type:"103",msg:"the end."},{time:304,lane:6,type:"103",msg:"the end."},{time:304,lane:7,type:"103",msg:"the end."},{time:350,lane:1,type:"103",msg:"you don't quit,"},{time:350,lane:2,type:"103",msg:"you don't quit,"},{time:350,lane:3,type:"103",msg:"you don't quit,"},{time:350,lane:4,type:"103",msg:"you don't quit,"},{time:350,lane:5,type:"103",msg:"you don't quit,"},{time:350,lane:6,type:"103",msg:"you don't quit,"},{time:350,lane:7,type:"103",msg:"you don't quit,"},{time:352,lane:1,type:"103",msg:"do you?"},{time:352,lane:2,type:"103",msg:"do you?"},{time:352,lane:3,type:"103",msg:"do you?"},{time:352,lane:4,type:"103",msg:"do you?"},{time:352,lane:5,type:"103",msg:"do you?"},{time:352,lane:6,type:"103",msg:"do you?"},{time:352,lane:7,type:"103",msg:"do you?"},{time:388,lane:1,type:"103",msg:"wait! what if..."},{time:388,lane:2,type:"103",msg:"wait! what if..."},{time:388,lane:3,type:"103",msg:"wait! what if..."},{time:388,lane:4,type:"103",msg:"wait! what if..."},{time:388,lane:5,type:"103",msg:"wait! what if..."},{time:388,lane:6,type:"103",msg:"wait! what if..."},{time:388,lane:7,type:"103",msg:"wait! what if..."},{time:390,lane:1,type:"103",msg:"there is no cake?"},{time:390,lane:2,type:"103",msg:"there is no cake?"},{time:390,lane:3,type:"103",msg:"there is no cake?"},{time:390,lane:4,type:"103",msg:"there is no cake?"},{time:390,lane:5,type:"103",msg:"there is no cake?"},{time:390,lane:6,type:"103",msg:"there is no cake?"},{time:390,lane:7,type:"103",msg:"there is no cake?"},{time:394,lane:1,type:"103",msg:"think about it."},{time:394,lane:2,type:"103",msg:"think about it."},{time:394,lane:3,type:"103",msg:"think about it."},{time:394,lane:4,type:"103",msg:"think about it."},{time:394,lane:5,type:"103",msg:"think about it."},{time:394,lane:6,type:"103",msg:"think about it."},{time:394,lane:7,type:"103",msg:"think about it."},{time:396,lane:1,type:"103",msg:"no, really."},{time:396,lane:2,type:"103",msg:"no, really."},{time:396,lane:3,type:"103",msg:"no, really."},{time:396,lane:4,type:"103",msg:"no, really."},{time:396,lane:5,type:"103",msg:"no, really."},{time:396,lane:6,type:"103",msg:"no, really."},{time:396,lane:7,type:"103",msg:"no, really."},{time:401,lane:1,type:"418"},{time:401,lane:2,type:"418"},{time:401,lane:3,type:"418"},{time:401,lane:4,type:"418"},{time:401,lane:5,type:"418"},{time:401,lane:6,type:"418"},{time:401,lane:7,type:"418"}],T=[[[,0,77,,,.7,2,.41,,,,,,,,.06],[,0,43,.01,,.3,2,,,,,,,,,.02,.01],[,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02],[,0,86,,,,,.7,,,,.5,,6.7,1,.05],[,0,41,,.05,.4,2,0,,,9,.01,,,,.08,.02],[,0,2200,,,.04,3,2,,,800,.02,,4.8,,.01,.1],[.3,0,16,,,.3,3]],[[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,22,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,24,,,,,,,,,,,,,,,,,,,,,,,,22,,22,,22,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,24,,,,,,,,27,,,,,,,,,,,,,,,,27,,,,24,,,,24,,,,,,,,27,,,,,,,,,,,,,,,,24,,24,,24,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[6,1,,,34,34,34,,,,,,34,34,,,,,34,,,,34,34,,,,,34,,,,34,,,,34,34,34,,,,,,34,,,,,,34,34,,,34,34,,,,,,,,,34,34],[4,1,,,,,,,24,,,,,,24,,24,,,,24,,,,24,,,,,,,,,,,,,,,,24,,,,,,24,,24,,,,24,,,,24,,,,,,,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,23,23,35,23,23,36,23,23,35,23,23,36,23,23,35,35,23,23,35,23,23,35,23,23,36,23,23,35,23,23,36,36],[5,-1,21,,,19,,,21,,,,,,,,,,21,,,19,,,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,1,24,,,24,,,24,,,,,,,,,,24,,,24,,,24,,,,24.75,24.5,24.26,24.01,24.01,24.01,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[4,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,24.75,24.5,24.26,24.01,24.01,24.01,24.01,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23,,21,23,,35,,23,,21,23,,35,,35,,23,,21,23,,35,,21,23,,35,,21,23,,,],[6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,34,36,34,,33,34,34,36,31,36,34,,31,34,32,,33,36,34,,31,34,34,36,33,36,33,,31,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29],[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,21,,19,21,,33,,21,,19,21,,33,,33,,21,,19,21,,33,,21,,19,21,,33,,33,,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29],[2,1,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,],[6,1,,,36,,,,,,36,,36,,,,,,,,36,,,,,,36,,36,,,,,,,,36,,,,,,,,,,,,,,,,36,,,,,,36,,36,,,,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,25,,,25,,,,,,,,25,,,,,,,,25,25,25,25]],[[1,-1,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,19,19,31,19,19,31,19,19,31,19,19,31,19,19,31,31],[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,36,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,19,,19,19,31,19,19,31,19,,19,19,31,19,19,31],[2,1,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,34,,,,,,34,,34,,,,,,,,34,,,,,,34,,34,,,,,,]]],[0,1,1,2,3,4,4],,{title:"Depp",instruments:["Instrument 0","Instrument 1","Instrument 2","Instrument 3","Instrument 4","Instrument 5","Instrument 6","Instrument 7"],patterns:["Pattern 0","Pattern 1","Pattern 2","Pattern 3","Pattern 4"]}];const I=[1.04,,614,.25,.34,.91,,.86,,-3.9,-25,.08,.05,,,,,.77,.07,.35];let U,P;const C=c.getContext("2d"),X=c.cloneNode(),z=X.getContext("2d");X.width=180,X.height=400;const S=c.cloneNode(),D=S.getContext("2d"),K=c.cloneNode(),L=K.getContext("2d");K.width=S.width=120,K.height=S.height=160,L.filter="blur(0.55px)";const Q=c.cloneNode(),B=Q.getContext("2d");Q.width=S.width=120,Q.height=S.height=160;let V="wasd";const W=S.width-50;let F=0,N=0;const j=[[0,6,6],[1,5,5,5],[2,5,5,5],[2,5,5,5],[2,5,5,5],[2,5,5,5],[2,5,5,5],[3,5,5,5],[7,4,7]],Y={hero:{sprites:[{x:0,y:0,w:10,h:20}],speed:{x:100,y:50}},fallingRoad:{sprites:[{x:40,y:0,w:20,h:20},{x:60,y:0,w:20,h:20},{x:80,y:0,w:20,h:20},{x:100,y:0,w:20,h:20},{x:120,y:0,w:20,h:20},{x:140,y:0,w:20,h:20}]},leftVerge:{sprites:[{x:0,y:20,w:20,h:20},{x:0,y:20,w:20,h:20},{x:40,y:100,w:20,h:20},{x:0,y:20,w:20,h:20},{x:0,y:20,w:20,h:20},{x:60,y:100,w:20,h:20}]},missingRoad:{sprites:[{x:140,y:0,w:20,h:20}]},highwayPanel:{sprites:[{x:0,y:40,w:X.width,h:40}]},103:{sprites:[{x:0,y:80,w:20,h:20}]},200:{sprites:[{x:20,y:80,w:20,h:20}]},301:{sprites:[{x:40,y:80,w:20,h:20}]},302:{sprites:[{x:60,y:80,w:20,h:20}]},404:{sprites:[{x:80,y:80,w:20,h:20}]},418:{sprites:[{x:100,y:80,w:20,h:20}]},429:{sprites:[{x:120,y:80,w:20,h:20}]},501:{sprites:[{x:140,y:80,w:20,h:20}]},503:{sprites:[{x:0,y:100,w:20,h:20},{x:20,y:100,w:20,h:20}]},highway:{0:[{x:0,y:20,w:20,h:20}],6:[{x:20,y:20,w:20,h:20}],1:[{x:40,y:20,w:20,h:20}],2:[{x:60,y:20,w:20,h:20}],3:[{x:80,y:20,w:20,h:20}],4:[{x:100,y:20,w:20,h:20}],7:[{x:120,y:20,w:20,h:20}],5:[{x:140,y:20,w:20,h:20}],speed:{y:160}}};let Z,G,J,q,H=.1,O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAB4CAYAAAB1ovlvAAAAAXNSR0IArs4c6QAAC15JREFUeJztnV9oHMcdx797XPTql4BV2hMUKtxITdGDETjU8UugBJQUWU7SUos0VBTiBEpM6zht5VC7EEcPLYEmfnGJhVxobKvGkSEUTMEyxCD6EJrItfBDgs4FGfriPjaQ7cPe7M2NZmZnZmf23/0+cNzu3m9/t9r97m/m95u5VQQAp8bn4t/e+x+wsgbMP5O8A8ny6z9G9PYPIwC4fHg6vv7I13Bh5hp+cv0HAJAuX3j3LqJHt6LO5FwMgjCklYpPxdt/Rvz6X+LLh6fjI7MbaruPthD/Zx+Jj7CiHcJpd3M18uGHomnzaZV9AMRwEyQChiBvVKVoWk3aAPDm+AjeHwFwdg6Y7L0DwCSwPfNcanzl6jT+vtXG2Gdz6bZ0+d19RR0z0SDaAPD+CLC9Kc+CJ06/gDsbHwAAjm91sH1yVepo4maMO4e+XcxRe8I1qlI09UcLAF7SJMFMfADw+31dtV3NxEdUgxaQREAVE9MvpMvHtzpqu5t3/R0VMTTUJgmpG1nNOzXjCdQEE6WSRsCxyRF5FizsMHZ2DjK2n/4s0CESPLLIWudomtkHHLt+OV3W9QHHDn3H31ERhdLdXI3Yq+jvppEQolTaQK8GCMhnwwDATPK2fXI1mfkimw0zcw0AFaPrSJlNOGXBNaPO/T0ZJMBANE0ooYhOjZudqMcfV5dgeI5vdYJMx6LJCM2kDQBsQuqb44PpsLj900+TLFgUo2q7T0hAzYSm0BOl0u4e/cp6pxc/GdwnyYATovuzXv2xbNsHP331JADgT388W0l/vE/R7/KUW8Vs/XsnvPoTr1VeqA7YIOJj5xAfO1f2YVjhlAWzu8f33UCoYedaFrlS0X042lvfAQBE773s5K9InL/dp/iWp1qln4i64PumLzuIDERAdieZ3Dm+KftE1AHVTTr2xCsAgO2Pd9J1k759FW76NmAXwpenWl7FQsLLjyg2l8SSp3Oxhe7Rr9L3kJQ+EuJb0MOMruWyoSjxAT0BuoZwohhCNZW6RKSo699iX8Z/IYmvWoRsIcruBw40wSYh3PZkdC4mf2CRYb2J+C6blC08htVR8CfB9A9g0VUnvqqcjDrgIxpW6XxbJSH8gdueCJn4REFTMqLHl3CqUoQGMiKgamjHl1D4ERUS33AijYAuQzuuUORzw2TQwBa+/gcUk4yWXgck8dkRMjiUkShKBairC/oWDEXAalF0lUIqQN3QTgjBkAizYf1lX4MGVUhAgIwmWBXWfQmGRGcGLxYf475VER9g2QcMEflC+G0a4vlZnmrl6vPJ/JWFUx2QBFMOvoVShUhY+LNAGPHDHfoxlCPRntHSrptvyr8FiKGm9DpgiOJ2U6nbD45MoAhIlAoJsGCaGMXyQAIsECY+EmEfEmCBsP4u9Xv7lJ6EDAt81Asxk6WukAA9wwvNRmCu+9UdaoI9IvbtdKLi13X7NZ3SR0KacreHEI14btKmu0EjIZVrguNj53ZFh+i9l6UXOGu7yo+tf5m9imjPKOKHO7uW2XrqR2Ij2g8D7fVbt2sxJssuukwAvqKorFnkRZglPq1viRhdxVaXa/bkwQOZkbpyERBwa85k/S1bPyp7E/HxUZSPdCZCk9k3pWuSRVum0jMnzscAsLi0YNTXcLE/+N1vKj/XddCz9lF1/GUdfZvEwBTbKOcSFW+ubQa9NiHtRXZlwWdOnI8XlxaixaWFiDnPOgAXe9sD5X8iyi+zyGP6dFA+UuVpUmXHp/384Q6iPaPpK1OYGn+hr00oexkDQpCJQyeYPPaUBWeTlQWHujYh7FWkxuu3bseqTqPss7z2TRNgEcjKMCGujW97HS2TnZ48eCDiMy/f9oQ7oa9NXvssIhtxMMc+7CkC2qMrRPu8Nr7sTWxpKI4olZZpyGSKDmVPuBP62rjamxx7C8hut0WHvu0Jd0Jfm7z2WaRNsMqxyqEve8Kd0NfGl70OaWeWOTFx6GrvMwlRTSQQP1MN0alGQFTjz1kTGFR+8sInISGvTSh7GcpaDhA2Q2JDcT6z4KyZKyYzYnRCyxKk6Xqevw8Abv3z80pluzb2Iu2s9tzGWZ2aWNsIlXc2jG9CXxsf9rWdDVMELhFK1ewS7khnwxRBEc+GEQWTJTITexMR2n6vLU0aVaIp+TWiiVPyaSSEKBUSIEcd/+N43SEBEqUy1ALMingUEcMztGUYnmH+YXjZDLUAs349Rxl6eIZagAxRiCS84iABcpDwiqf0QjRhDxWiCYIgyiZegVUrZmsfjPVbt+M6Td0i5Nh2o2T27SwDE2z6JPR74fJwub6qa3v58HQMJFEtms/OJVT2u7LgiRt7rQ7wzlMPrOx9IkZRX2IO5bcKiM8olK3z71o+HNV/bmCfmYTceerBwCsP/PRt/rcEuZz28CmSMgTXmZwrrUvCC81UfHtfeydZeNbsGYcqe60AZYIrM+Lp8NmnzOtLJyb+s87kXMzWu5urhYleFBcfBU1gzSkTU1ZyobM3KsNM3Nhr3TSLyH684iMK8v58iJD34RoJmZh4gfGfse3dzdXIWnhvzcYAEr/3p73cdLJnFKpEycTz4A8/T5rUXrPKi0q2rLLXCpAXXhUjHxOILxHKxJenOeYFxkRnE/EkkTRZf2sW3b91VTZamNhM34147JLNIQzYG0VAXnwukVD30z1ffcGq9AFlTSy/zSLqxby/1McbV5PXNzbQ+X4nsbw/Hcu+KxRHZjeShccuJa9/PT9oIPTzdPZWY8F5m+EmI0Y2lRBUdhJRRt3N1bgzOceLEN2j/f9W353v9pc3V4FkaDVt3lXHKntaP79dF/2ieUTxCuIjsxsDQmKlFbHckmVfyGQE9igH1cMOmU0RxxIKvm9nYi8Tok6EAAbEBwBY+Tow/+/UlnvPPAZZImL67yIy635CuUVnbyRAinx6xCaWF5NKkKLYNBFrQIQGxL1oqMUk2rmw97V3gC8O9Jrh7OzauA+YNwmR9fWaFP34vh0TIVsWbQHr5MG0z8h8au3jhztB/iGObXkGoNkwwRCbZCZQMUmx8IfOReFy9ZrfXjIScS8tsif180/xdxGnSXlGRqFNMN8X5Ld5cV4BWNOrin6yfl5WwsARdTdXY7zB7Xux1ze0rCWqBOY9KsoyZIGBAy96MgLQLAECVoIqHJ+TEXb57kW6K1enceRXv0g29sSnS0JKOVFN6fsRg8iaW5OZMgRBEARBFE712+dk9ocVL34yOGJwYeZauhzdn7U+BK0/6uPkQjklPyv7MbH17Y9oHoN1wC8PGe945aVnvdi4fHcWy1NJwVaMXFXxR/Sp1UiIzdOqfIuFxBeGgQgYPbrF/ePhBe2Od7/1MwD6/5T93F83OH8bWn+/W/ql0l8qOja8c6w3a0PyKA0boZg8C4aEF5Y2IK+Q/+bXZlVz3o713Xz7s2F5qpUpGhtBm/gj3Eki4L31ZG3/Sv+Tf8z3l223e/bXf3qVWihEPek3wb7EF8BfOgvkWH991+RMC8aeeAUAsP3xTrqexx/hThsAov3PRwDA+mtf/ugDAMDpe8Kg+v41AMCp8bkY4yN4ZPZpAMBib3+Gb39MHEw4ecUi7k/iK4+BJOTQM5MAgBtXPzLamdljSf+5L38mQrHpr5k05dT/C4syaXBypklCnP1ZjIQwsYh1O9eRECN/NBKSi1okIaYwoQBukUssy+T1R2RTiyREhaqOZyuWrLIMiS8caRLCEobFpYUI+9eSxADAaaz1mxjJ9jMnzse49N+BArJvfyI2dTyi2qQRUEwAdmWskG9XJQ6+/YWE6ozlUcun5OvqeC7Npa7OSM1vWKqfwWmyYNM+oGkWzIQolntoPmA4ahkBGaqm0nX8VlVnpPHgcNRagCI0Bat+1Go+YBbLU62B2l3V/BG7+T+Wbt5ZCBwQTgAAAABJRU5ErkJggg==",$=!0;function _(){Y.hero.sprites[0].x+=10,E=E.concat([{time:53,lane:3,type:"429"},{time:53,lane:5,type:"429"},{time:61,lane:3,type:"429"},{time:61,lane:5,type:"429"},{time:74.5,lane:3,type:"429"},{time:74.5,lane:5,type:"429"}])}function ee(){f=[ne("leftVerge",0,X.height-20,!0),ne("leftVerge",0,X.height-80,!0,1),ne("leftVerge",0,X.height-140,!0,2),ne("leftVerge",0,X.height-200,!0,3),u=ne("hero",S.width/2,X.height-50),ne("highwayPanel",0,X.height-S.height+15),ne("highwayPanel",151,X.height-S.height+15)],F=0,N=X.height-S.height}function te(){k=0,d=404,w=0,distance=0,A=!1,(()=>{const e=E.map(e=>({...e,distance:e.time*Y.highway.speed.y}));v=[],e.forEach(e=>{switch(v.push(ne(e.type,20*e.lane,-e.distance+N,"503"===e.type)),e.type){case"103":v[v.length-1].msg=e.msg;break;case"301":case"302":v[v.length-1].redirect=e.redirect;break;case"501":case"503":for(let t=1;e.length>=t;t++)v.push(ne("missingRoad",20*e.lane,-e.distance-20*t+N))}}),f=v.concat(f)})(),M=1,oe()}function ae(e,t){return t.x+t.w>e.x+e.w/4&&e.x+3*e.w/4>t.x&&t.y+t.h>e.y+e.h/4&&e.y+3*e.h/4>t.y}function ne(e,t=0,a=0,n=!1,i=0){if(Y[e]){const m=Y[e].sprites[0];return{frame:i,frameTime:0,h:m.h,loopAnimation:n,moveDown:0,moveLeft:0,moveRight:0,moveUp:0,moveX:0,moveY:0,rotate:0,scale:1,speed:Y[e].speed,sprites:Y[e].sprites,type:e,w:m.w,x:t,y:a}}return{h:20,type:e,w:20,x:t,y:a}}function ie(e){const t=ne("fallingRoad",e.x,e.y-e.h);return t.spawn=ie,t.spawnTime=d,t}function me(e){if(e.frameTime+=G,e.frameTime>H&&(e.frameTime-=H,(e.sprites.length-1>e.frame||e.loopAnimation)&&(e.frame+=1),e.loopAnimation&&(e.frame%=e.sprites.length),e.dying&&(e.rotate+=.7853981633974483,e.scale-=.1,0>e.scale&&(e.scale=0,e.dead=!0))),u.speedTime&&u.speedTime-d>5&&(u.speedTime=0,R=.1,H=.1),e.translateTo){const t=(e.translateTime-d)/e.translateDuration;e.x=m(e.translateFrom,e.translateTo,t),e.scale=l([1,1.2,1.6,1.75,1.6,1.25,1],t),t>1&&(e.translateTo=e.translateFrom=e.translateTime=e.translateDuration=void 0)}else if(e.speed&&!e.dying){const t=e.moveX&&e.moveY?.7071067811865476:1;e.x+=e.speed.x*G*e.moveX*t,e.y+=e.speed.y*G*e.moveY*t}}function le(){return 10*Math.floor(404-d)+418*w}function se(){const e=y("highscore")||13,t=Math.max(e,le());o("highscore",t),o("OS13kTrophy,🏅,Highway 404,Highscore",t,"")}function oe(){var e;ye(),1===M&&(e=T,P=a(...e),P.loop=!0)}function ye(){P&&(P.stop(),P=null)}function he(){C.drawImage(K,0,0,K.width,K.height,0,0,c.width,c.height),C.drawImage(S,0,25,S.width,S.height-50,0,25*c.height/S.height,c.width,(S.height-50)*c.height/S.height),C.drawImage(Q,0,0,Q.width,Q.height,0,0,c.width,c.height)}function ge(e){if(e.y>=N-40)if(e.sprites){const t=e.sprites[e.frame];D.save(),D.translate(Math.round(e.x-F),Math.round(e.y-N));let a=0,n=0;if(e.dying)D.translate(Math.round(e.w/2),Math.round(e.h/2)),D.rotate(e.rotate),a=-e.w/2*e.scale,n=-e.h/2*e.scale;else if(e.translateTo||e.moveX){const t=e.translateTo?e.translateTo-e.translateFrom>0?1:-1:e.moveX;D.translate(Math.round(e.w/2),Math.round(e.h/2)),D.rotate(.19634954084936207*t),a=-e.w/2*e.scale,n=-e.h/2*e.scale}switch(D.drawImage(O,t.x,t.y,t.w,t.h,a,n,t.w*e.scale,t.h*e.scale),D.restore(),e.type){case"103":case"200":case"301":case"302":case"404":case"418":case"429":case"501":case"503":r(e.type,Math.round(e.x+10-F),Math.round(e.y+e.h+1-2.5-N),1)}}else r(e.type,Math.round(e.x+10-F),Math.round(e.y+e.h/2-2.5-N),1)}function re(){$&&(q=requestAnimationFrame(re),(()=>{switch(B.clearRect(0,0,Q.width,Q.height),D.drawImage(X,F,N,S.width,S.height,0,0,S.width,S.height),f.forEach(ge),L.drawImage(S,0,0,S.width,S.height,0,0,K.width,K.height),M){case 0:r("js13kgames 2020",S.width/2,5,1),r("collect teapots",S.width/2,S.height/2-10,1),r("for extra points",S.width/2,S.height/2-2,1),r(e?"swipe to steer":V+"/ULDR to steer",S.width/2,S.height/2+15,1),r("jerome lecomte",S.width/2,S.height-10,1);break;case 1:r("score",5,5),r(""+le(),S.width-5,5,2),(()=>{const e=Math.floor(Math.ceil(d)/60),t=Math.ceil(d)-60*e;r(`time ${e}:${t>9?"":"0"}${t}`,5,S.height-10)})(),r("teapot "+w,S.width-5,S.height-10,2),u.speedTime&&r(5-Math.floor(u.speedTime-d)+" sec",S.width/2,S.height/2,1),b&&r(x,S.width/2,S.height/2,1);break;case 2:r("score",5,15),r(""+le(),S.width-5,15,2),r("highscore",5,5),r(y("highscore"),S.width-5,5,2),r(A?"you arrived!":"you got lost!",S.width/2,S.height/2-3,1),e||r("[t]weet your score",S.width/2,S.height-20,1),r(e?"tap to restart":"[space] to restart",S.width/2,S.height-10,1)}he()})(),Z=Date.now(),G=(Z-J)/1e3,(()=>{switch(M){case 0:f.forEach(me);break;case 1:d-=G,0>d&&(A=!0,se(),ye(),M=2),u.dead&&(A=!1,se(),ye(),M=2),b-d>3&&(b=0),ve?(u.moveX=u.moveLeft+u.moveRight,u.moveY=u.moveUp+u.moveDown):(u.moveX=u.moveLeft||u.moveRight?(u.moveLeft>u.moveRight?-1:1)*m(0,1,(Z-Math.max(u.moveLeft,u.moveRight))/150):0,u.moveY=u.moveDown||u.moveUp?(u.moveUp>u.moveDown?-1:1)*m(0,1,(Z-Math.max(u.moveUp,u.moveDown))/150):0),f.forEach(me),(()=>{let e;const t=Y.highway.speed.y;if(e=u.dying?m(t,0,(u.dyingTime-d)/1.5):m(0,t,(404-d)/1.5),u.speedTime){const a=(u.speedTime-d)/5;e=l([1,.25,.25,.25,.25,1].map(e=>t*e),a),R=l([1,4,4,4,4,1].map(e=>.1*e),a),H=l([1,4,4,4,4,1].map(e=>.1*e),a)}N-=e*G,u.y-=e*G,0>N&&(N+=X.height-S.height,f.forEach(e=>{e.y+=X.height-S.height}))})(),20>(e=u).x?e.x=20:e.x>X.width-20-e.w&&(e.x=X.width-20-e.w),N+20>e.y?e.y=N+20:e.y>N+S.height-e.h&&(e.y=N+S.height-e.h),F>0&&F+50>u.x?F=Math.max(0,u.x-50):X.width-S.width>F&&u.x+u.w>F+W&&(F=Math.min(X.width-S.width,u.x+u.w-W)),v=[];const t=new Set;(()=>{const e=f.filter(e=>"200"===e.type);f.forEach(t=>{if(t.spawn&&t.spawnTime-d>R){const a=t.spawn(t);v.push(a),t.spawn=null,e.forEach(e=>{ae(a,e)&&v.pop()})}})})();let a=!1;u.translateTo||(f.forEach(e=>{if(e!==u&&!e.triggered&&ae(u,e))switch(e.triggered=!0,e.type){case"103":b=d,x=e.msg;break;case"200":t.add("road OK");break;case"301":case"302":t.add("301"===e.type?"lane moved":"temporary lane redirect"),u.translateFrom=u.x,u.translateTo=u.x+20*e.redirect,u.translateTime=d,u.translateDuration=Math.abs(.25*e.redirect);break;case"404":v.push(ie({x:e.x,y:e.y+20,h:e.h})),t.add("road not found");break;case"418":w++,t.add("extra points");break;case"429":t.add("speed limiting"),u.speedTime=d;break;case"501":t.add("road not implemented");break;case"503":t.add("road unavailable");break;case"fallingRoad":e.triggered=!1,u.dying||(u.scale=1-.1*(e.frame+1),a=!0),e.frame>e.sprites.length/2&&(e.triggered=!0,u.dying||(u.dying=!0,u.dyingTime=d,i(I)));break;case"missingRoad":u.dying&&!u.dead||(u.dying=!0,u.dyingTime=d,i(I))}}),a||u.dying||u.dead||(u.scale=1)),f=v.concat(f),t.forEach(e=>U(e)),f=f.filter(e=>N+S.height+20>e.y)}var e})(),J=Z)}function pe(e){$=e,$?(J=Date.now(),re()):cancelAnimationFrame(q)}function de(e){return new Promise(t=>{var a=new Image;a.onload=()=>{t(a)},a.src=e})}onload=async()=>{document.title="Highway 404",onresize(),await(async(e,t)=>{g=await e(g),h=t})(de,B),O=await de(O),r("loading...",S.width/2,S.height/2,1),he(),U=await(async()=>{let e=(await new Promise((e,t)=>{let a=0,n=setInterval(()=>{a+=1,speechSynthesis.getVoices().length?(e(speechSynthesis.getVoices()),clearInterval(n)):100>a||(t([]),clearInterval(n))},10)})).filter(e=>navigator.language===e.lang||RegExp("^"+navigator.language.split("-")[0]).test(e.lang));if(e.length){const n=(t=e)[(a=t.length-1,Math.floor(Math.random()*(a+1-0)+0))];return e=>{if(!speechSynthesis.speaking){const t=s[e]||(s[e]=new SpeechSynthesisUtterance(e));t.voice=n,t.volume=.3,t.rate=1.25,speechSynthesis.speak(t)}}}var t,a;return()=>{}})(),[T]=[T].map(e=>zzfxM(...e)),ee(),j.forEach((e,t)=>{let a=X.height;for(;a>0;)e.forEach(e=>{const n=Y.highway[e][0];a-=n.h,z.drawImage(O,n.x,n.y,n.w,n.h,t*n.w,a,n.w,n.h)})}),(e=>{function t(){document.monetization.removeEventListener("monetizationstart",t),e()}document.monetization&&("started"===document.monetization.state?t():"pending"===document.monetization.state&&document.monetization.addEventListener("monetizationstart",t))})(_),/^fr/i.test(navigator.language)&&(V="zqsd"),pe(!0)},onresize=onrotate=()=>{const e=Math.min(innerWidth/S.width,innerHeight/S.height);c.width=S.width*e,c.height=S.height*e,C.imageSmoothingEnabled=z.imageSmoothingEnabled=B.imageSmoothingEnabled=L.imageSmoothingEnabled=D.imageSmoothingEnabled=!1},document.onvisibilitychange=e=>{pe(!e.target.hidden),$?oe():ye()},onkeydown=e=>{if(e.preventDefault(),!e.repeat)switch(M){case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":u.moveLeft=Z;break;case"ArrowUp":case"KeyW":case"KeyZ":u.moveUp=Z;break;case"ArrowRight":case"KeyD":u.moveRight=Z;break;case"ArrowDown":case"KeyS":u.moveDown=Z;break;case"KeyP":pe(!$)}}},onkeyup=e=>{switch(M){case 0:e.which!==p[k]||10===k?te():(k++,10===k&&_());break;case 1:switch(e.code){case"ArrowLeft":case"KeyA":case"KeyQ":u.moveRight&&(u.moveRight=Z),u.moveLeft=0;break;case"ArrowRight":case"KeyD":u.moveLeft&&(u.moveLeft=Z),u.moveRight=0;break;case"ArrowUp":case"KeyW":case"KeyZ":u.moveDown&&(u.moveDown=Z),u.moveUp=0;break;case"ArrowDown":case"KeyS":u.moveUp&&(u.moveUp=Z),u.moveDown=0}break;case 2:switch(e.code){case"KeyT":open(`https://twitter.com/intent/tweet?text=I%20survived%20${Math.floor(404-d)}%20seconds${w>0?" and collected "+w+" teapot"+(w>1?"s":""):""}%20in%20Highway%20404%20by%20%40herebefrogs%20for%20%23js13k%202020%0Ahttps%3A%2F%2Fbit.ly%2Fhgw-404`,"_blank");break;default:ee(),M=0}}};let ce=0,we=0,ue=0,fe=0,ve=!1;function Ae(e){return[e.pageX||e.changedTouches[0].pageX,e.pageY||e.changedTouches[0].pageY]}ontouchstart=onpointerdown=e=>{switch(e.preventDefault(),M){case 1:ve=!0,[ue,fe]=[ce,we]=Ae(e)}},ontouchmove=onpointermove=e=>{switch(e.preventDefault(),M){case 1:ce&&we&&(([e,t])=>{e>ue?(ue=e,u.moveRight=m(0,1,(ue-ce)/30)):ce>e?(ce=e,u.moveLeft=-m(0,1,(ue-ce)/30)):ue>e&&u.moveX>0?(ce=e,u.moveRight=0):e>ce&&0>u.moveX&&(ue=e,u.moveLeft=0),t>fe?(fe=t,u.moveDown=m(0,1,(fe-we)/30)):we>t?(we=t,u.moveUp=-m(0,1,(fe-we)/30)):fe>t&&u.moveY>0?(we=t,u.moveDown=0):t>we&&0>u.moveY&&(fe=t,u.moveUp=0)})(Ae(e))}},ontouchend=onpointerup=e=>{switch(e.preventDefault(),M){case 0:te();break;case 1:ve=!1,u.moveLeft=u.moveRight=u.moveDown=u.moveUp=0,ce=we=ue=fe=0;break;case 2:ee(),M=0}}})();</script>